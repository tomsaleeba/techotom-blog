<!DOCTYPE html>

<html lang="en-us">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no"/>

    <title>TechoTom</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#FF3DB4">
    <meta name="theme-color" content="#ffffff">

    
    
    
    <link rel="stylesheet" href="http://blog.techotom.com/css/main.min.03322cbe6bddfc28e7b17b84bc5446282a510b14b57be3371ba1f68ef1ab9ce8.css"/>

    
    
    

    
    
 
    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-101335262-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>
    <body>
        
<nav>
  <header>
    <div class="site-title">
        <a href="/">TechoTom</a>
    </div>  
</header>
  <div class="nav-menu">
  
  <a class="color-link nav-link" href="http://blog.techotom.com/index.xml" target="_blank" rel="noopener" type="application/rss+xml">RSS</a>
</div>
<footer class="footer">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    

    
    
    

    

    

    

    

</div>




	<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
	<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>

	<script src="http://blog.techotom.com/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
</nav>
        <div id="content" class="content-container">
        
<h1 class="post-title">Ejecting an ISO from a VirtualBox VM using VBoxManage</h1>
    
    <time>September 22, 2012</time>
    
    <div>
        <p>
        <h1 id="the-problem">The problem</h1>
<p>You&rsquo;ve connected an ISO to your vm already and now you want to leave the drive connected to the controller but eject the medium from it. This isn&rsquo;t a particularly challenging problem but it wasn&rsquo;t immediately apparent to me so hopefully this saves someone else some time.</p>
<h1 id="how-to">How-To</h1>
<ol>
<li>
<p>Let&rsquo;s make sure we get all the right details for the command first up, so we want to look at the info about our vm. All you need to know at this stage is the name or the UUID of the vm. The information we&rsquo;re looking for is the name of the controller,Â the port on the controller and the device number of the CD/DVD drive.<br>
This is the format of the command:<br>
<code>$ VBoxManage showvminfo &lt;name|uuid&gt;</code><br>
So as an example, when my vm is named &ldquo;xp&rdquo;, we&rsquo;d do this (I prefer names to UUIDs):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ VBoxManage showvminfo <span style="color:#e6db74">&#34;xp&#34;</span>
_...unimportant stuff ommitted..._
Storage Controller Name <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>:IDE Controller
Storage Controller Type <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: PIIX4
Storage Controller Instance Number <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: <span style="color:#ae81ff">0</span>
Storage Controller Max Port Count <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: <span style="color:#ae81ff">2</span>
Storage Controller Port Count <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: <span style="color:#ae81ff">2</span>
Storage Controller Bootable <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: on
IDE Controller <span style="color:#f92672">(</span>0, 0<span style="color:#f92672">)</span>: /path/to/hdd.vdi <span style="color:#f92672">(</span>UUID: 00000000-0000-0000-0000-000000000000<span style="color:#f92672">)</span>
IDE Controller <span style="color:#f92672">(</span>0, 1<span style="color:#f92672">)</span>: /usr/share/virtualbox/VBoxGuestAdditions.iso <span style="color:#f92672">(</span>UUID: 4bbb3ddf-b5f2-47ae-92f5-fbc23a304fae<span style="color:#f92672">)</span> // this is the important stuff
_...unimportant stuff ommitted..._
</code></pre></div><p>The information we get from this is the controller&rsquo;s name is <code>IDE Controller</code>, the port on the controller is <code>0</code> and the device number on the port is <code>1</code>.</p>
</li>
<li>
<p>We then use these values that we found in the command to eject the disc or make the drive empty. This is the format that we use (the <code>\</code> lets you continue commands on a new line):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ VBoxManage storageattach <span style="color:#e6db74">&#34;&lt;vm name&gt;&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --storagectl <span style="color:#e6db74">&#34;&lt;storage controller name&gt;&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --port &lt;port number on controller&gt; <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --device &lt;device number on port&gt; <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --medium emptydrive
</code></pre></div><p>So for my &ldquo;xp&rdquo; vm and using the values I found in the previous step, I would run:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ VBoxManage storageattach <span style="color:#e6db74">&#34;xp&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --storagectl <span style="color:#e6db74">&#34;IDE Controller&#34;</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --port <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --device <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>  --medium emptydrive**
</code></pre></div></li>
<li>
<p>If the command ran successfully, there won&rsquo;t be any output to the console. You can double check that it worked by running the showvminfo command again and checking to see that the device is now empty:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ VBoxManage showvminfo <span style="color:#e6db74">&#34;xp&#34;</span>**
_...unimportant stuff ommitted..._
Storage Controller Name <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: IDE Controller
Storage Controller Type <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: PIIX4
Storage Controller Instance Number <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: <span style="color:#ae81ff">0</span>
Storage Controller Max Port Count <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: <span style="color:#ae81ff">2</span>
Storage Controller Port Count <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: <span style="color:#ae81ff">2</span>
Storage Controller Bootable <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>: on
IDE Controller <span style="color:#f92672">(</span>0, 0<span style="color:#f92672">)</span>: /path/to/hdd.vdi <span style="color:#f92672">(</span>UUID: 00000000-0000-0000-0000-000000000000<span style="color:#f92672">)</span>
IDE Controller <span style="color:#f92672">(</span>0, 1<span style="color:#f92672">)</span>: Empty // yay, it<span style="color:#960050;background-color:#1e0010">&#39;</span>s empty!
_...unimportant stuff ommitted..._
</code></pre></div></li>
</ol>
<h1 id="errors-you-might-encounter">Errors you might encounter</h1>
<pre><code>VBoxManage: error: No DVD/Floppy Drive attached to the controller 'IDE Controller'at the port: 1, device: 0
</code></pre><p>If you get an error like this, make sure that you didn&rsquo;t get the port and device numbers around the wrong way. The example I&rsquo;ve got here is because I should have used <code>port = 0</code> and <code>device = 1</code>. In fact, on my VM, there isn&rsquo;t anything plugged into port <code>1</code> at all.</p>
<p>Credit to <a href="">https://forums.virtualbox.org/viewtopic.php?f=6&amp;t=46265</a>.</p>

        </p>
    </div>
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "techotom" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    <div class="page-footer">
        
        <hr class="footer-divider">
        
            <a class="tag" href="/tags/virtualbox">#virtualbox</a>
        
      
    </div>


        
        </div>
        <footer class="footer-mobile">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    

    
    
    

    

    

    

    

</div>




	<div class="footer-mobile-links">
		<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
		<span class="divider-bar">|</span>
		<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>
	</div>

	<script src="http://blog.techotom.com/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
    </body>
</html>